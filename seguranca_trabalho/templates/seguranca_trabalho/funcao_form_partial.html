{% load i18n %}
{% load crispy_forms_tags %}

<form method="post" 
      hx-post="{% if object %}{% url 'seguranca_trabalho:funcao_update' object.pk %}{% else %}{% url 'seguranca_trabalho:funcao_create' %}{% endif %}" 
      hx-target="this" 
      hx-swap="outerHTML">
    
    <div class="modal-header">
        <h5 class="modal-title" id="modalLabel">
            {% if object %}Editar Função{% else %}Adicionar Nova Função{% endif %}
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>

    <div class="modal-body">
        {% comment %} 
        Presumi que seu include 'funcao_form_fields.html' 
        contém o {% csrf_token %} e os campos do formulário (ex: {{ form|crispy }})
        {% endcomment %}
        {% include "seguranca_trabalho/partials/funcao_form_fields.html" %}
    </div>

    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-primary">Salvar</button>
    </div>
</form>
