
/*
 * kanban.css
 * Estilos para o quadro Kanban, responsivo e com cores por status.
 */

/* 1. Estrutura Geral do Quadro */
/* =================================== */
.kanban-wrapper {
    /* Limita a altura para que o cabeçalho fixo funcione bem */
    height: calc(100vh - 60px); /* Ajuste 60px para a altura do seu navbar principal */
    display: flex;
    flex-direction: column;
}

.kanban-board {
    flex-grow: 1; /* Faz o quadro ocupar o espaço vertical restante */
    overflow-x: auto; /* ATIVA A ROLAGEM HORIZONTAL em telas menores */
    overflow-y: hidden;
    padding: 0 1rem 1rem 1rem; /* Espaço para a barra de rolagem não sobrepor o conteúdo */
}

/* 2. Colunas do Kanban */
/* =================================== */
.kanban-column {
    width: 320px; /* Largura fixa para cada coluna */
    flex-shrink: 0; /* Impede que as colunas encolham */
    display: flex;
    flex-direction: column;
    background-color: var(--bs-tertiary-bg);
    border-radius: 0.5rem;
    height: 100%;
}

.kanban-column-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    border-bottom: 1px solid var(--bs-border-color);
    /* Deixa o cabeçalho fixo no topo da coluna durante a rolagem vertical dos cards */
    position: sticky;
    top: 0;
    background-color: inherit; /* Herda o fundo da coluna */
    z-index: 10;
}

/* 3. Cards de Tarefa */
/* =================================== */
.kanban-cards-container {
    flex-grow: 1;
    overflow-y: auto; /* Permite rolagem vertical apenas dos cards */
    padding: 0.75rem;
}

.kanban-card {
    border-left-width: 5px; /* Borda esquerda grossa para a cor do status */
    border-radius: 0.375rem;
    box-shadow: var(--bs-box-shadow-sm);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    cursor: grab;
}

.kanban-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--bs-box-shadow);
}

.kanban-card.sortable-ghost {
    /* Estilo do card "fantasma" enquanto é arrastado */
    background: var(--bs-primary-bg-subtle);
    opacity: 0.5;
}

.kanban-card.is-overdue {
    /* Destaque para tarefas atrasadas */
    border-color: var(--bs-danger);
    background-color: var(--bs-danger-bg-subtle);
}

/* 4. Cores por Status (Coluna) */
/* =================================== */
/* Ajuste os nomes das classes (status-*) para corresponder ao |slugify dos seus status */

/* Status: A Fazer (Exemplo) */
.status-a-fazer .kanban-column-header { background-color: var(--bs-secondary-bg-subtle); }
.status-a-fazer .kanban-card { border-left-color: var(--bs-secondary); }

/* Status: Em Progresso (Exemplo) */
.status-em-progresso .kanban-column-header { background-color: var(--bs-primary-bg-subtle); }
.status-em-progresso .kanban-card { border-left-color: var(--bs-primary); }

/* Status: Revisão (Exemplo) */
.status-revisao .kanban-column-header { background-color: var(--bs-warning-bg-subtle); }
.status-revisao .kanban-card { border-left-color: var(--bs-warning); }

/* Status: Concluído (Exemplo) */
.status-concluido .kanban-column-header { background-color: var(--bs-success-bg-subtle); }
.status-concluido .kanban-card { border-left-color: var(--bs-success); }

/* 5. Estilização da Barra de Rolagem (Opcional, mas profissional) */
/* =================================== */
.custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 10px;
}
.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--bs-border-color-translucent);
    border-radius: 10px;
}
.kanban-board::-webkit-scrollbar {
    height: 10px;
}
.kanban-board::-webkit-scrollbar-thumb {
    background-color: var(--bs-border-color-translucent);
    border-radius: 10px;
}

/* Estilos básicos para o novo layout do card */
.kanban-card { transition: all 0.2s ease-in-out; }
.kanban-card:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.1) !important; }
.fs-tiny { font-size: 0.75rem; }
.avatar-kanban {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background-color: var(--bs-secondary-bg-subtle);
    color: var(--bs-emphasis-color);
    font-weight: 600;
    font-size: 0.8rem;
}

