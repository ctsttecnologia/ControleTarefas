{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<div id="content-main">
    <form method="post" action="">
        {% csrf_token %}
        
        <h2>{% blocktrans with verbose_name_plural=opts.verbose_name_plural|capfirst %}Alterar a filial dos seguintes {{ verbose_name_plural }}{% endblocktrans %}</h2>

        {# Bloco para exibir erros gerais do formulário #}
        {% if form.non_field_errors %}
            <p class="errornote">
            {% for error in form.non_field_errors %}
                {{ error }}
            {% endfor %}
            </p>
        {% endif %}

        <fieldset class="module aligned">
            <div class="form-row">
                {# Bloco para exibir erros específicos do campo 'filial' #}
                {% if form.filial.errors %}
                    <ul class="errorlist">
                    {% for error in form.filial.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}

                {{ form.filial.label_tag }}
                {{ form.filial }}
            </div>
        </fieldset>

        {{ form.selected_ids }} {# Campo oculto com os IDs #}

        {# Bloco para exibir os itens selecionados #}
        <h3>{% trans "Itens selecionados:" %}</h3>
        <ul>
        {% for obj in queryset %}
            <li>{{ obj }}</li>
        {% endfor %}
        </ul>

        {# Bloco para os botões de confirmação e cancelamento #}
        <div>
            <input type="hidden" name="post" value="yes">
            <input type="submit" class="button" value="{% trans 'Confirmar Alteração' %}">
            <a href="#" onclick="window.history.back();" class="button cancel-link">{% trans "Cancelar" %}</a>
        </div>
    </form>
</div>
{% endblock %}
