
{% extends 'base.html' %}
{% load static %}

{% block title %}Detalhes da Admissão{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'cssdp/detalhe_admissao_styles.css' %}">
{% endblock %}


{% block content %}
<div class="container py-4">

    {# Cabeçalho da página #}
    <header class="d-flex justify-content-between align-items-center mb-4 pb-2 border-bottom">
        <h2 class="h3 mb-0">
            <i class="bi bi-file-earmark-person-fill me-2"></i>Detalhes da Admissão
        </h2>
        <a href="{% url 'departamento_pessoal:lista_admissoes' %}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left me-1"></i> Voltar para a Lista
        </a>
    </header>

    {# Card principal com as informações #}
    <div class="card border-0 shadow-sm">
        <div class="card-header bg-body-tertiary">
            <div class="d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Funcionário: 
                    <a href="{% url 'departamento_pessoal:detalhe_funcionario' admissao.funcionario.pk %}" class="text-decoration-none">{{ admissao.funcionario.nome }}</a>
                </h5>
                <span class="badge text-bg-secondary">Matrícula: {{ admissao.matricula }}</span>
            </div>
        </div>
        <div class="card-body p-4 p-md-5">
            <dl class="row">
                <!-- Seção 1: Dados Contratuais -->
                <h5 class="section-title col-12">Dados Contratuais</h5>
                
                <dt class="col-sm-4">Cargo</dt>
                <dd class="col-sm-8">{{ admissao.cargo.nome }}</dd>

                <dt class="col-sm-4">Departamento</dt>
                <dd class="col-sm-8">{{ admissao.departamento.nome }}</dd>

                <dt class="col-sm-4">Tipo de Contrato</dt>
                <dd class="col-sm-8">{{ admissao.get_tipo_contrato_display }}</dd>

                <dt class="col-sm-4">Salário</dt>
                <dd class="col-sm-8">R$ {{ admissao.salario|floatformat:2 }}</dd>

                <dt class="col-sm-4">Data de Admissão</dt>
                <dd class="col-sm-8">{{ admissao.data_admissao|date:"d/m/Y" }}</dd>

                <dt class="col-sm-4">Data de Demissão</dt>
                <dd class="col-sm-8">{{ admissao.data_demissao|date:"d/m/Y"|default:"-" }}</dd>

                <!-- Seção 2: Jornada de Trabalho -->
                <h5 class="section-title col-12 mt-4">Jornada de Trabalho</h5>

                <dt class="col-sm-4">Horário de Entrada</dt>
                <dd class="col-sm-8">{{ admissao.hora_entrada|time:"H:i"|default:"Não definido" }}</dd>

                <dt class="col-sm-4">Horário de Saída</dt>
                <dd class="col-sm-8">{{ admissao.hora_saida|time:"H:i"|default:"Não definido" }}</dd>

                <dt class="col-sm-4">Dias da Semana</dt>
                <dd class="col-sm-8">
                    {% for dia in admissao.get_dias_semana_display %}
                        <span class="badge text-bg-light">{{ dia }}</span>
                    {% empty %}
                        <span class="text-muted">Não definidos</span>
                    {% endfor %}
                </dd>
            </dl>
        </div>
        <div class="card-footer bg-body-tertiary text-end">
            <a href="{% url 'departamento_pessoal:editar_admissao' admissao.pk %}" class="btn btn-primary">
                <i class="bi bi-pencil-square me-1"></i> Editar Admissão
            </a>
        </div>
    </div>
</div>
{% endblock %}  
